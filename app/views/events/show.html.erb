<% if notice %>
	<div id="notice" class="alert alert-success"><%= notice %></div>
<% end %>

<h1 id="eventName"><%= @event.name %></h1>
<dd><em><%= @event.description %></em></dd>
<br/><br/>

<!-- Drivers -->
<ul>
	<% @drivers.each do |driver| %>
			<!-- Riders -->
			<ul class="driver" id="driver<%= driver.id %>">
				<li class="headrider unmoveable"><%= driver.name %></li>
			<% @riders.each do |rider|   # Temporary solution, want to optimize later  %>
				<% if rider.driver_id == driver.id %>
					<li class="rider driver<%= driver.id %>" id="rider<%= rider.id %>"><%= rider.name%></li>
				<% 	end %>
			<% end %>
			</ul>
	<% end %>
</ul>

<% if @drivers.empty? %>
	<em>Currently no drivers...</em><br/>
<% end %>
<br />

<div style="display:block; width:100%; height:20px; clear:both;">&nbsp;</div>

<br/>
<br />
<%= link_to 'Edit', edit_event_path(@event) %> |
<%= link_to 'Back', events_path %>

<script type="text/javascript">
	$(function() {
	$( ".driver" ).sortable({
      items: "li:not(.unmoveable)",
	  connectWith: ".driver",
	  placeholder: "ghostRider"
	}).disableSelection();
	})

	$(document).ready(function () {
		$('#notice').delay(2000).fadeOut('slow');
	})
</script>